<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personnel File - AKUL</title>
    <meta name="description" content="Classified personnel archive - Archive Architect">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #0a0a0a;
            --blood-red: #c41e3a;
            --silver: #c0c0c0;
            --dark-grey: #1a1a1a;
            --mid-grey: #333333;
        }

        body {
            background: var(--black);
            color: var(--silver);
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.8) 100%);
            pointer-events: none;
            z-index: 1;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15),
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            opacity: 0.03;
            z-index: 2;
        }

        .container {
            position: relative;
            z-index: 3;
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        header {
            border-bottom: 1px solid var(--mid-grey);
            padding-bottom: 30px;
            margin-bottom: 40px;
        }

        .header-title {
            font-family: 'Playfair Display', serif;
            font-size: 14px;
            letter-spacing: 3px;
            color: var(--silver);
            margin-bottom: 20px;
            opacity: 0.6;
        }

        .personnel-name {
            font-family: 'Playfair Display', serif;
            font-size: 48px;
            font-weight: 700;
            color: var(--silver);
            margin-bottom: 8px;
            position: relative;
            display: inline-block;
            transition: all 0.6s ease;
        }

        .personnel-name.mirror {
            text-shadow: 0 0 20px rgba(192, 192, 192, 0.3);
        }

        .personnel-title {
            font-size: 16px;
            letter-spacing: 2px;
            color: var(--blood-red);
            margin-bottom: 20px;
        }

        .clearance-level {
            font-family: 'Inter', sans-serif;
            font-size: 13px;
            letter-spacing: 1.5px;
            color: var(--silver);
            opacity: 0.7;
            transition: color 0.4s ease;
        }

        .clearance-level.revoked {
            color: var(--mid-grey);
        }

        .base-info {
            margin-bottom: 40px;
        }

        .info-row {
            display: flex;
            padding: 12px 0;
            border-bottom: 1px solid rgba(192, 192, 192, 0.1);
        }

        .info-label {
            width: 120px;
            font-size: 12px;
            letter-spacing: 1px;
            opacity: 0.5;
        }

        .info-value {
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        .tagline {
            margin-top: 30px;
            padding: 20px;
            border-left: 2px solid var(--blood-red);
            font-style: italic;
            font-size: 16px;
            opacity: 0.8;
        }

        .restricted-section {
            margin-top: 60px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 18px;
            letter-spacing: 2px;
            margin-bottom: 20px;
            color: var(--blood-red);
        }

        .clearance-lock {
            padding: 16px 20px;
            margin-bottom: 12px;
            border: 1px solid var(--mid-grey);
            background: rgba(26, 26, 26, 0.5);
            font-size: 13px;
            letter-spacing: 1.5px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .clearance-lock:hover {
            border-color: var(--blood-red);
            background: rgba(196, 30, 58, 0.05);
        }

        .clearance-lock.unlocked {
            border-color: var(--blood-red);
            opacity: 0.5;
            cursor: default;
        }

        .hidden-content {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.8s ease;
        }

        .hidden-content.revealed {
            max-height: 2000px;
            opacity: 1;
            margin-top: 30px;
        }

        .content-block {
            margin-bottom: 30px;
            padding: 20px;
            border-left: 2px solid var(--blood-red);
        }

        .content-block h3 {
            font-family: 'Playfair Display', serif;
            font-size: 16px;
            letter-spacing: 1.5px;
            margin-bottom: 15px;
            color: var(--silver);
        }

        .content-block p {
            line-height: 1.8;
            font-size: 14px;
            opacity: 0.9;
        }

        .content-block ul {
            list-style: none;
            margin-top: 15px;
        }

        .content-block ul li {
            padding: 8px 0;
            font-size: 14px;
            opacity: 0.9;
        }

        .content-block ul li::before {
            content: '• ';
            color: var(--blood-red);
            margin-right: 8px;
        }

        .reveal-message {
            text-align: center;
            padding: 40px 20px;
            font-family: 'Playfair Display', serif;
            font-size: 20px;
            letter-spacing: 1px;
            line-height: 1.6;
            color: var(--blood-red);
        }

        .architect-signature {
            text-align: center;
            margin-top: 20px;
            font-size: 24px;
            letter-spacing: 3px;
            color: var(--silver);
        }

        .biometric-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.95);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .biometric-overlay.active {
            display: flex;
        }

        .scan-container {
            width: 300px;
            height: 300px;
            position: relative;
            border: 1px solid var(--blood-red);
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--blood-red);
            box-shadow: 0 0 10px var(--blood-red);
            animation: scan 2s ease-in-out;
        }

        @keyframes scan {
            0%, 100% { top: 0; }
            50% { top: calc(100% - 2px); }
        }

        .fingerprint {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 2px solid var(--blood-red);
            opacity: 0.3;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.5; }
        }

        .scan-text {
            margin-top: 40px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            letter-spacing: 2px;
            text-align: center;
        }

        .scan-text div {
            margin: 8px 0;
            opacity: 0;
            animation: fadeInText 0.5s ease forwards;
        }

        .scan-text div:nth-child(1) { animation-delay: 0.3s; }
        .scan-text div:nth-child(2) { animation-delay: 0.8s; }
        .scan-text div:nth-child(3) { animation-delay: 1.3s; }

        @keyframes fadeInText {
            to { opacity: 1; }
        }

        .slash-effect {
            position: fixed;
            top: 50%;
            left: -100%;
            width: 2px;
            height: 100vh;
            background: var(--blood-red);
            transform: rotate(45deg);
            transform-origin: center;
            box-shadow: 0 0 20px var(--blood-red);
            z-index: 999;
        }

        .slash-effect.animate {
            animation: slash 0.6s ease-out;
        }

        @keyframes slash {
            0% { left: -100%; }
            50% { left: 50%; }
            100% { left: 150%; }
        }

        .terminal-text {
            overflow: hidden;
            white-space: nowrap;
            display: inline-block;
        }

        .system-message {
            position: fixed;
            bottom: 40px;
            right: 40px;
            padding: 15px 25px;
            background: rgba(26, 26, 26, 0.95);
            border: 1px solid var(--blood-red);
            font-size: 12px;
            letter-spacing: 1px;
            opacity: 0;
            z-index: 500;
            transition: opacity 0.5s ease;
        }

        .system-message.show {
            opacity: 1;
        }

        .revoked-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.9);
            z-index: 800;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .revoked-overlay.active {
            display: flex;
        }

        .revoked-text {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            letter-spacing: 2px;
            color: var(--mid-grey);
            text-align: center;
        }

        .level4-shift {
            transition: background 1s ease;
        }

        .level4-shift.active {
            background: #050505;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        @media (max-width: 768px) {
            .personnel-name {
                font-size: 36px;
            }

            .container {
                padding: 40px 15px;
            }

            .scan-container {
                width: 250px;
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-title">PERSONNEL FILE</div>
            <h1 class="personnel-name" id="personnelName">AKUL</h1>
            <div class="personnel-title">ARCHIVE ARCHITECT</div>
            <div class="clearance-level" id="clearanceDisplay">CLEARANCE LEVEL: 0</div>
        </header>

        <section class="base-info">
            <div class="info-row">
                <div class="info-label">NAME:</div>
                <div class="info-value">AKUL</div>
            </div>
            <div class="info-row">
                <div class="info-label">TITLE:</div>
                <div class="info-value">Archive Architect</div>
            </div>
            <div class="info-row">
                <div class="info-label">STATUS:</div>
                <div class="info-value" id="statusValue">Active</div>
            </div>

            <div class="tagline">
                "Structure is never accidental."
            </div>
        </section>

        <section class="restricted-section">
            <h2 class="section-title">RESTRICTED DATA</h2>
            
            <div class="clearance-lock" id="lock1" data-level="1">
                [ LEVEL 1 LOCKED ]
            </div>
            <div class="hidden-content" id="content1">
                <div class="content-block">
                    <h3>STATE: OPERATIONAL</h3>
                    <p>Akul operates at the intersection of narrative architecture and systematic design. Every element within this archive reflects a deliberate choice—structure engineered to guide, conceal, and reveal. The precision is not performative. It is foundational. This is not documentation. This is deployment.</p>
                </div>
            </div>

            <div class="clearance-lock" id="lock2" data-level="2">
                [ LEVEL 2 LOCKED ]
            </div>
            <div class="hidden-content" id="content2">
                <div class="content-block">
                    <h3>CORE STRENGTHS</h3>
                    <ul>
                        <li>Narrative Systems Design</li>
                        <li>Psychological UX Architecture</li>
                        <li>Structural Worldbuilding</li>
                        <li>ARG Engineering</li>
                    </ul>
                </div>
            </div>

            <div class="clearance-lock" id="lock3" data-level="3">
                [ LEVEL 3 LOCKED ]
            </div>
            <div class="hidden-content" id="content3">
                <div class="reveal-message">
                    This archive was never reactive.<br>
                    It was designed.<br>
                    Every flicker.<br>
                    Every silence.<br>
                    Intentional.
                </div>
                <div class="architect-signature">AKUL<br>PRIMARY ARCHITECT</div>
            </div>

            <div class="clearance-lock" id="lock4" data-level="4">
                [ LEVEL 4 LOCKED ]
            </div>
            <div class="hidden-content" id="content4">
                <div class="content-block">
                    <h3>ROOT ACCESS LOG</h3>
                    <p>Akul initiated the archive.<br>
                    The system was not discovered.<br>
                    It was deployed.</p>
                </div>
            </div>
        </section>
    </div>

    <div class="biometric-overlay" id="biometricOverlay">
        <div class="scan-container">
            <div class="scan-line"></div>
            <div class="fingerprint"></div>
        </div>
        <div class="scan-text" id="scanText"></div>
    </div>

    <div class="slash-effect" id="slashEffect"></div>

    <div class="system-message" id="systemMessage"></div>

    <div class="revoked-overlay" id="revokedOverlay">
        <div class="revoked-text">CLEARANCE REVOKED<br><br>Architect access suspended.</div>
    </div>

    <script>
        // State management
        let clearanceLevel = parseInt(localStorage.getItem('clearanceLevel')) || 0;
        let lastActivity = parseInt(localStorage.getItem('lastActivityTimestamp')) || Date.now();
        let visitedSealedRecord = localStorage.getItem('visitedSealedRecord') === 'true';
        let isRevoked = false;
        let hoverStartTime = null;
        let hoverDuration = 0;
        let level2Condition1 = false;
        let keyBuffer = '';
        let inactivityTimer;
        let decayTimer;

        // Elements
        const personnelName = document.getElementById('personnelName');
        const clearanceDisplay = document.getElementById('clearanceDisplay');
        const statusValue = document.getElementById('statusValue');
        const biometricOverlay = document.getElementById('biometricOverlay');
        const scanText = document.getElementById('scanText');
        const slashEffect = document.getElementById('slashEffect');
        const systemMessage = document.getElementById('systemMessage');
        const revokedOverlay = document.getElementById('revokedOverlay');

        // Initialize
        function init() {
            checkDecay();
            updateUI();
            startInactivityTracking();
        }

        // Update UI based on clearance level
        function updateUI() {
            clearanceDisplay.textContent = `CLEARANCE LEVEL: ${clearanceLevel}`;
            
            for (let i = 1; i <= 4; i++) {
                const lock = document.getElementById(`lock${i}`);
                const content = document.getElementById(`content${i}`);
                
                if (clearanceLevel >= i) {
                    lock.classList.add('unlocked');
                    lock.textContent = `[ LEVEL ${i} UNLOCKED ]`;
                    content.classList.add('revealed');
                }
            }

            if (clearanceLevel >= 4) {
                document.body.classList.add('level4-shift');
            }
        }

        // Biometric scan animation
        function showBiometricScan(success, message) {
            biometricOverlay.classList.add('active');
            
            scanText.innerHTML = `
                <div>Scanning identity…</div>
                <div>Matching behavioral pattern…</div>
                <div>${success ? 'Clearance Approved.' : message || 'Insufficient authorization.'}</div>
            `;

            setTimeout(() => {
                biometricOverlay.classList.remove('active');
            }, 2500);
        }

        // Slash effect
        function triggerSlash() {
            slashEffect.classList.add('animate');
            setTimeout(() => {
                slashEffect.classList.remove('animate');
            }, 600);
        }

        // System message
        function showSystemMessage(msg) {
            systemMessage.textContent = msg;
            systemMessage.classList.add('show');
            setTimeout(() => {
                systemMessage.classList.remove('show');
            }, 3000);
        }

        // Unlock level
        function unlockLevel(level) {
            if (clearanceLevel < level) {
                clearanceLevel = level;
                localStorage.setItem('clearanceLevel', clearanceLevel);
                updateUI();
                updateActivity();
            }
        }

        // Key input handler
        document.addEventListener('keydown', (e) => {
            if (isRevoked) {
                if (e.key.toLowerCase() === 'r' || e.key.toLowerCase() === 'e' || 
                    e.key.toLowerCase() === 's' || e.key.toLowerCase() === 't' || 
                    e.key.toLowerCase() === 'o') {
                    keyBuffer += e.key.toLowerCase();
                    if (keyBuffer.includes('restore')) {
                        isRevoked = false;
                        revokedOverlay.classList.remove('active');
                        clearanceDisplay.classList.remove('revoked');
                        statusValue.style.color = '';
                        keyBuffer = '';
                        showSystemMessage('Access restored.');
                    }
                }
                return;
            }

            keyBuffer += e.key.toLowerCase();
            keyBuffer = keyBuffer.slice(-20);

            // Level 1: "structure"
            if (keyBuffer.includes('structure') && clearanceLevel < 1) {
                triggerSlash();
                setTimeout(() => {
                    showBiometricScan(true);
                    setTimeout(() => {
                        unlockLevel(1);
                    }, 2500);
                }, 600);
            }

            // Level 2: "intentional" (with hover condition)
            if (keyBuffer.includes('intentional') && level2Condition1 && clearanceLevel < 2) {
                showBiometricScan(true);
                setTimeout(() => {
                    unlockLevel(2);
                    personnelName.classList.add('mirror');
                }, 2500);
            }

            // Level 3: "architect"
            if (keyBuffer.includes('architect') && clearanceLevel < 3) {
                showBiometricScan(true);
                setTimeout(() => {
                    unlockLevel(3);
                }, 2500);
            }

            // Level 4: "root" (with sealed record condition)
            if (keyBuffer.includes('root') && clearanceLevel < 4) {
                if (visitedSealedRecord) {
                    showBiometricScan(true);
                    setTimeout(() => {
                        unlockLevel(4);
                    }, 2500);
                } else {
                    showBiometricScan(false, 'External file required.');
                }
            }

            // Override: revoke clearance
            if (keyBuffer.includes('override')) {
                isRevoked = true;
                revokedOverlay.classList.add('active');
                clearanceDisplay.classList.add('revoked');
                statusValue.style.color = 'var(--mid-grey)';
                keyBuffer = '';
            }

            updateActivity();
        });

        // Hover tracking for Level 2
        personnelName.addEventListener('mouseenter', () => {
            hoverStartTime = Date.now();
        });

        personnelName.addEventListener('mouseleave', () => {
            if (hoverStartTime) {
                hoverDuration += Date.now() - hoverStartTime;
                if (hoverDuration >= 6000) {
                    level2Condition1 = true;
                }
                hoverStartTime = null;
            }
        });

        // Lock click handlers
        document.querySelectorAll('.clearance-lock').forEach(lock => {
            lock.addEventListener('click', function() {
                const level = parseInt(this.dataset.level);
                if (clearanceLevel < level) {
                    showBiometricScan(false, 'Partial match.');
                }
            });
        });

        // Activity tracking
        function updateActivity() {
            lastActivity = Date.now();
            localStorage.setItem('lastActivityTimestamp', lastActivity);
            resetInactivityTimer();
        }

        function startInactivityTracking() {
            resetInactivityTimer();
        }

        function resetInactivityTimer() {
            clearTimeout(inactivityTimer);
            clearTimeout(decayTimer);

            // 5 minute decay
            decayTimer = setTimeout(() => {
                if (clearanceLevel > 0) {
                    clearanceLevel--;
                    localStorage.setItem('clearanceLevel', clearanceLevel);
                    showSystemMessage('Clearance integrity degraded.');
                    location.reload();
                }
            }, 5 * 60 * 1000);

            // 15 minute reset
            inactivityTimer = setTimeout(() => {
                if (clearanceLevel > 0) {
                    clearanceLevel = 0;
                    localStorage.setItem('clearanceLevel', clearanceLevel);
                    showSystemMessage('Clearance integrity degraded.');
                    location.reload();
                }
            }, 15 * 60 * 1000);
        }

        function checkDecay() {
            const now = Date.now();
            const elapsed = now - lastActivity;

            if (elapsed > 15 * 60 * 1000) {
                clearanceLevel = 0;
                localStorage.setItem('clearanceLevel', clearanceLevel);
            } else if (elapsed > 5 * 60 * 1000) {
                const decayLevels = Math.floor(elapsed / (5 * 60 * 1000));
                clearanceLevel = Math.max(0, clearanceLevel - decayLevels);
                localStorage.setItem('clearanceLevel', clearanceLevel);
            }
        }

        // Track mouse and keyboard activity
        document.addEventListener('mousemove', updateActivity);
        document.addEventListener('click', updateActivity);

        // Initialize on load
        init();
    </script>
</body>
</html>
